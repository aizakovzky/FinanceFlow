# FinanceFlow — ユーザーマニュアル（デモ版）

> **これはブラウザ専用のデモ版です。** すべてのデータはブラウザの localStorage に保存されます。データベースやサーバーは使用しません。ブラウザのデータを消去するまで、データは保持されます。

---

## はじめに

### デモアカウント
初回アクセス時にデモアカウントが自動作成されます。
- **メールアドレス:** `demo@financeflow.app`
- **パスワード:** `demo123`

15件のサンプル取引、6つの予算カテゴリー、2件の定期取引が事前登録されているので、すぐにアプリを体験できます。

### アカウントの作成
1. ブラウザでアプリを開く
2. ログインページの **「Create one」** をクリック
3. 名前、メールアドレス、パスワード（6文字以上）を入力
4. **「Create account」** をクリック — 自動的にサインインされます

各アカウントのデータはブラウザ内で完全に分離されています。

### サインイン
ログインページでメールアドレスとパスワードを入力し、**「Sign in」** をクリックします。

> ※ ログインページとアカウント作成ページは、ダークモード設定に関わらず常にライトモードで表示されます。

---

## ダッシュボード

ホーム画面では以下の情報が表示されます。
- **Monthly Spending（今月の支出）** — 今月の合計金額と取引件数
- **Budget Status（予算状況）** — 上位3カテゴリーの進捗バー
- **Quick Actions（クイックアクション）** — 分析ページへのジャンプ
- **Recent Transactions（最近の取引）** — 今月の直近5件の記録
- **Spending by Category（カテゴリー別支出）** — 今月の支出分布をカラーバーで表示

---

## 取引の追加

取引を追加するには2つの方法があります。

- **フローティングボタン**: 画面右下の緑色の **「+ Add Transaction」** ボタンをクリック（モバイルでは右下の円形ボタン）
- **キーボードショートカット**: アプリ内のどこでも `C` キー、または `Ctrl+K` / `Cmd+K` を押す

### スマート入力（自然言語）
「Spent $25 on lunch yesterday」といった文章を入力すると、フォームが自動補完されます。
- **金額**: 数値から抽出
- **カテゴリー**: キーワードから推測（例：「lunch」→ Food & Dining）
- **日付**: 「yesterday」や「last week」などの表現に合わせて調整

テキストエリアの下にある各フィールドから、手動で入力・修正することも可能です。

### 手動入力フィールド
| フィールド | 内容 |
|---|---|
| **Amount（金額）** | 支出額 |
| **Date（日付）** | 発生日 |
| **Category（カテゴリー）** | Food & Dining, Transport, Entertainment, Utilities, Shopping, Healthcare, Other から選択 |
| **Description（内容）** | 取引に関する短いメモ |

**「Add Transaction」** をクリックするか、`Enter` キーを押して保存します。

---

## 取引の編集

1. **Expenses（支出）** ページに移動
2. 編集したい取引を探す
3. 削除ボタンの隣にある **鉛筆アイコン** (✏️) をクリック
4. モーダルに既存データが表示されるので、内容を修正
5. **「Update Transaction」** をクリック

---

## 支出ページ（Expenses）

すべての取引をフィルター可能なリスト形式で表示します（新しい順）。

- **カテゴリーで絞り込み**: 上部のボタン（All, Food & Dining, Transport など）を使用
- **編集**: 鉛筆アイコンをクリック
- **削除**: ゴミ箱アイコンをクリック（確認のため2回目のクリックが必要）
- ヘッダーには、現在のフィルターにおける合計件数と合計金額が表示されます

---

## 予算ページ（Budgets）

カテゴリーごとの支出状況をカード形式で表示します。
- **進捗バー**: 今月の予算上限に対する支出額
- **色分け**: 緑＝順調、オレンジ＝80%超（注意）、赤＝予算超過
- **Edit ボタン**: 予算上限を変更

### 日本円（JPY）スケーリング
通貨が日本円（¥）に設定されており、予算がデフォルト（¥500など）のままの場合、**「Scale Budgets for ¥」** というバナーが表示されます。ワンクリックで以下のような実用的なデフォルト値に設定できます。
- Food & Dining: ¥50,000
- Transport: ¥15,000
- Entertainment: ¥20,000
- Utilities: ¥25,000
- Shopping: ¥30,000
- Healthcare: ¥10,000

---

## 分析ページ（Analytics）

支出を視覚的に把握するためのチャートを提供します。

| チャート | 表示内容 |
|---|---|
| **Spending by Category** | 今月の支出内訳（ドーナツグラフ） |
| **Monthly Trend** | 過去6ヶ月間の総支出（折れ線グラフ） |
| **Average by Category** | カテゴリーごとの平均取引額（棒グラフ） |

チャートの要素にホバーすると、詳細な数値がツールチップで表示されます。

### プロアクティブ・インサイト
アプリが自動的にアラートを生成します。
- ⚠️ **Warning（警告）**: 予算を超過した、または超過する予測がある場合
- ℹ️ **Info（情報）**: 先月と比較して支出が増加している場合
- ✅ **Success（成功）**: 支出が減少している場合

---

## 定期的な取引（Recurring）

自動的に繰り返される取引を設定します。

1. **「Add Recurring」** をクリック
2. **Type**（Expense または Income）、**Frequency**（Daily / Weekly / Monthly / Yearly）を選択
3. 金額、カテゴリー、内容、次回発生日を入力
4. **「Add」** をクリック

各項目には次回の予定日と頻度が表示されます。ページ上部では、すべての定期取引による **月間の合計影響額** を確認できます。

---

## 設定ページ（Settings）

### 通貨（Currency）
10種類の通貨から選択可能：USD, EUR, GBP, JPY, AUD, CAD, CHF, CNY, INR, BRL。選択したロケールに合わせて金額の表示形式がプレビューされます。

### データ管理（Data Management）
| アクション | 内容 |
|---|---|
| **Export CSV** | すべての取引をCSVファイルとしてダウンロード |
| **Export JSON Backup** | 取引、予算、定期設定、通貨を含むフルバックアップ |
| **Import CSV** | CSVファイルをアップロードして取引を一括取り込み |

### アカウント（Account）
- **Sign Out** — ログインページに戻ります
- **Clear All Data** — すべての取引と定期設定を永久に削除します（確認が必要です）

### プライバシー
すべてのデータはブラウザ内に保存されます。データがサーバーに送信されることはありません。

---

## ダークモード

サイドバーにある **テーマボタン**（「Dark Mode」または「Light Mode」と表示）で切り替えが可能です。設定は保存され、次回以降も維持されます。ログインページとアカウント作成ページは常にライトモードで表示されます。

---

## キーボードショートカット

| キー | アクション |
|---|---|
| `C` | 取引追加モーダルを開く |
| `Ctrl+K` / `Cmd+K` | 取引追加モーダルを開く |
| `Enter` | 取引フォームを送信 |
| `Escape` | モーダルやドロップダウンを閉じる |

---

## ナビゲーション

### デスクトップ
左側のサイドバーを使用：Dashboard, Expenses, Budgets, Analytics, Recurring, Settings。

### モバイル
下部のタブバーを使用：Home, Expenses, Analytics, Budgets, Settings。緑色のフローティングボタンからいつでも素早く取引を追加できます。
